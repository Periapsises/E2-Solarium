@name Solarium V-X

@persist IsClient
@persist PrintArray:array IsPrinting:number

# Beginning of if(first())
if(first() | duped()){
    
    IsClient = 0
    
    function void printClient(String:string){
        printColor(vec(100,150,255),"[Solarium] ",vec(150),"- ",vec(255),String)
    }
    function void printServer(String:string){
        concmd("say [Solarium] - " + String)
    }
    function void printText(String:string){
        if(IsClient){printClient(String)
        }else{printServer(String)}
    }
    function void printArray(Array:array){
        if(IsClient){
            for(I = 1, Array:count(), 1){
                printClient(Array[I,string])
            }
        }else{
            PrintArray = PrintArray:add(Array)
            if(!IsPrinting){
                IsPrinting = 1
                timer("nextString",100)
            }
        }
    }
    
}
# End of if(first())

# PrintArray server side
if(PrintArray:count() > 0){
    if(clk("nextString")){
        printServer(PrintArray:shiftString())
        if(PrintArray:count() > 0){
            timer("nextString",1000)
        }else{IsPrinting = 0}
    }
}
# End of PrintArray
